<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Issuing Reference Tokens (PAT and SAT) | ERP.net Developer Docs </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Issuing Reference Tokens (PAT and SAT) | ERP.net Developer Docs ">
      
      
      <link rel="icon" href="../../../../favicon.ico">
      <link rel="stylesheet" href="../../../../public/docfx.min.css">
      <link rel="stylesheet" href="../../../../public/main.css">
      <meta name="docfx:navrel" content="../../../../toc.html">
      <meta name="docfx:tocrel" content="../../../../toc.html">
      
      <meta name="docfx:rel" content="../../../../">
      
      
      <meta name="docfx:docurl" content="https://github.com/ErpNetDocs/dev/blob/master/building-apps/auth/concepts/tokens/issuing-reference-tokens.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../../../../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../../../index.html">
            <img id="logo" class="svg" src="../../../../logo.svg" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="issuing-reference-tokens-pat-and-sat">Issuing Reference Tokens (PAT and SAT)</h1>

<p>Reference tokens are long-lived, opaque API keys that start with <code>enrt_</code>.</p>
<p>They are issued manually and must be handled like passwords. ERP.net never stores them in plain text; you will only see the token value once, at creation time.</p>
<div class="WARNING">
<h5>Warning</h5>
<p>Issuing PATs or SATs is allowed only if the target <code>Trusted Application</code> has its <code>AccessTokens</code> policy set appropriately:<br>
<code>None</code> - <strong>reference tokens cannot be issued</strong><br>
<code>AuthenticatedUsers</code> - <strong>any signed-in user may issue PATs for this app</strong><br>
<code>AdministratorsOnly</code> - <strong>only admins may issue PATs or SATs for this app</strong></p>
</div>
<h2 id="personal-access-tokens-pat">Personal Access Tokens (PAT)</h2>
<p>A PAT represents an individual user. Calls made with a PAT run with that user's identity and permissions.</p>
<h3 id="where-to-issue-a-pat">Where to issue a PAT</h3>
<pre><code class="lang-text">Profile Site -&gt; Security -&gt; Tokens
</code></pre>
<p><img src="images/profile-tokens-list.png" alt="User Tokens page"></p>
<p>On this page the user can:</p>
<ul>
<li>See all of their existing PATs for all Trusted Applications</li>
<li>Review description, scopes, kind, expiration, and last-used time</li>
<li>Revoke any listed PAT immediately</li>
</ul>
<h3 id="create-a-pat">Create a PAT</h3>
<ol>
<li>Click Create user access token.</li>
<li>In the dialog, provide:
<ul>
<li>Description (optional but recommended)</li>
<li>Trusted Application</li>
<li>The list shows only apps where AccessTokens = AuthenticatedUsers</li>
<li>If the signed-in user is an admin, apps with AdministratorsOnly are also listed</li>
<li>Expiration Time (UTC)</li>
<li>Scopes (for example, read, update)</li>
</ul>
</li>
<li>Click Generate token.</li>
<li>Copy the shown token value (starts with <code>enrt_...</code>) and store it securely.
ERP.net cannot show it again.</li>
</ol>
<p><img src="images/profile-create-pat.png" alt="Create PAT dialog"></p>
<h3 id="pat-notes">PAT Notes</h3>
<ul>
<li>PATs are on behalf of the current user.</li>
<li>Treat PATs as passwords. Never share, email, or commit them to source control.</li>
<li>Revoke PATs immediately if leaked or no longer needed.</li>
</ul>
<h2 id="service-access-tokens-sat">Service Access Tokens (SAT)</h2>
<p>A SAT represents the application identity defined by a Trusted Application. Calls run using the System User configured on that Trusted Application.</p>
<h3 id="where-to-issue-a-sat">Where to issue a SAT</h3>
<pre><code class="lang-text">Instance Manager Site -&gt; Security -&gt; Trusted Apps -&gt; open a specific app
</code></pre>
<p><img src="images/im-trusted-app-tokens.png" alt="Trusted App tokens list"></p>
<p>Only administrators can access the Instance Manager. The <code>AccessTokens</code> policy of the app still applies:</p>
<ul>
<li>If AccessTokens = <code>None</code>, the <strong>Create application token</strong> button is disabled.</li>
<li>If AccessTokens = <code>AuthenticatedUsers</code>, any signed-in user can issue PATs for that app (via Profile Site), but <strong>SATs still require admin access to Instance Manager</strong>.</li>
<li>If AccessTokens = <code>AdministratorsOnly</code>, only admins can issue PATs or SATs.</li>
</ul>
<p>On this page an admin can:</p>
<ul>
<li>See <strong>all tokens</strong> for the selected Trusted Application (both PATs issued by users and SATs issued by admins)</li>
<li>Revoke any listed token immediately</li>
</ul>
<h3 id="create-a-sat">Create a SAT</h3>
<ol>
<li>Click <strong>Create application token</strong>.</li>
<li>In the dialog, provide:
<ul>
<li><strong>Description</strong> <em>(optional, but recommended)</em></li>
<li><strong>Expiration Time</strong> <em>(UTC)</em></li>
<li><strong>Scopes</strong> <em>(for example, <code>read</code>, <code>update</code>)</em></li>
<li>The <strong>Trusted Application</strong> is fixed by the page you opened.</li>
</ul>
</li>
<li>Click <strong>Generate token</strong>.</li>
<li><strong>Copy and store the token securely.</strong> It will not be shown again.</li>
</ol>
<p><img src="images/im-create-sat.png" alt="Create SAT dialog"></p>
<h3 id="sat-notes">SAT Notes</h3>
<ul>
<li>SATs always use the Trusted Application's <strong>System User</strong>.</li>
<li>Perfect for unattended integrations, schedulers, and middleware.</li>
<li>Admins can review and revoke any token for the app from this page.</li>
</ul>
<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="i-cannot-select-my-app-in-the-pat-dialog">I cannot select my app in the PAT dialog</h3>
<p>Make sure the Trusted Application's <strong>AccessTokens</strong> policy is not set to <code>None</code>.<br>
If it is set to <code>AdministratorsOnly</code>, you'll need an administrator to issue the token,<br>
or use another app configured with <code>AuthenticatedUsers</code>.</p>
<h3 id="the-create-application-token-button-is-disabled">The &quot;Create application token&quot; button is disabled</h3>
<p>The selected Trusted Application likely has <strong>AccessTokens = None</strong>.<br>
Ask an administrator to enable token creation or issue a <strong>PAT</strong> instead, if appropriate.</p>
<h3 id="my-sat-calls-run-as-the-wrong-identity">My SAT calls run as the wrong identity</h3>
<p>Service Access Tokens (SATs) always act as the Trusted Application's <strong>System User</strong>,<br>
not the person who created the token.<br>
Verify the System User configuration for that Trusted Application.</p>
<h3 id="i-lost-my-token-value">I lost my token value</h3>
<p>Once a token is generated, ERP.net does <strong>not</strong> store or display it again.<br>
If you lose it, generate a <strong>new token</strong> and <strong>revoke the old one</strong> to stay secure.</p>
<h2 id="learn-more">Learn More</h2>
<ul>
<li><p><a href="reference-access-tokens.html"><strong>Reference Access Tokens (PAT, SAT)</strong></a><br>
Full documentation on how reference tokens work - their behavior, usage, security model, and integration with sessions.</p>
</li>
<li><p><a href="../how-apps-connect/trusted-apps-access.html"><strong>Trusted Applications and Access Control</strong></a><br>
Learn about AccessTokens policy, System User, and scopes.</p>
</li>
<li><p><a href="scopes.html"><strong>Scopes and Permissions</strong></a><br>
How to choose the right scopes for your token.</p>
</li>
<li><p><a href="token-lifetime.html"><strong>Token Lifetime and Renewal</strong></a><br>
Understand how expirations work for access and reference tokens.</p>
</li>
</ul>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/ErpNetDocs/dev/blob/master/building-apps/auth/concepts/tokens/issuing-reference-tokens.md/#L1" class="edit-link">Suggest improvement to this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>
